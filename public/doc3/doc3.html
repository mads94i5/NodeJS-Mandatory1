<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="../img/node-js-logo.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../style/style.css" />
    <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/oswald-4">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.4.0/purify.min.js"></script>
    <script>
        function scrollToTop() {
            document.body.scrollTop = 0; /* For Safari */
            document.documentElement.scrollTop = 0; /* For Chrome, Firefox, IE, and Opera */
        }
    </script>
    <title>NodeJS Documentation</title>
</head>

<body>
    <header>
        <div>
            <h2 class="no-margin text-center"><strong>NodeJS Documentation</strong></h2>
        </div>
        <nav>
            <a href="/"><button class="btn nav-btn btn-success"><strong>Home</strong></button></a>
            <a href="/nodejs"><button class="btn nav-btn btn-success"><strong>NodeJS</strong></button></a>
            <div class="login-area">
                <a href="/admin"><button class="btn nav-btn btn-success"><strong>Admin</strong></button></a>
                <a href="/login"><button class="btn btn-success"><strong>Login</strong></button></a>
            </div>
        </nav>
    </header>
    <hr class="no-margin">
    <div class="container">
        <h1 class="text-center">Documentation | Page 3</h1><br>
        <p class="text-center">
        <div class="row btn-row">
            <div class="col-sm-4">
                <a href="/doc2"><button class="btn btn-primary"><strong>Page 2</strong></button></a>
            </div>
            <div class="col-sm-4 text-center">
                <a href="/nodejs"><button class="btn btn-danger"><strong>Back</strong></button></a>
            </div>
            <div class="col-sm-4 text-right">
                <a href="/doc4"><button class="btn btn-primary"><strong>Page 4</strong></button></a>
            </div>
        </div>
        <h3>Nodemon</h3>
        <p>
            Nodemon is a useful tool for development of Node applications as it automatically restarts
            the application when file changes are detected.<br>
            To use Nodemon, you typically install it globally or locally as a development dependency in
            your Node application. You then start your Node application using 'nodemon' instead of 'node'
            and Nodemon will handle automatic restarts during development.
            Here is how to install Nodemon globally:
        </p>
        <pre><code class="bash">npm install -g nodemon</code></pre>
        <p>
            And this is how you would run your application with Nodemon:
        </p>
        <pre><code class="bash">nodemon app.js</code></pre>
        <h3>Loops and loop methods in JS</h3>
        <p>
            There are a few common rules when using loops in modern JavaScript.<br>
        </p>
        <ul>
            <li>Always use loop methods in modern JS.</li>
            <li>'for' loops are only used when "finger counting" is needed. (counting to a number)</li>
        </ul>
        <p>
            These rules exist for several reasons. Among these are:
        </p>
        <ul>
            <li>Brevity</li>
            <li>Clarity (Loop methods communicate intent)</li>
            <li>Avoid indexing errors (Out Of Bounds)</li>
        </ul>
        <p>
            'for' loop vs forEach example:
        </p>
        <pre><code class="js">for (let i = 0; i &lt; numbers.length; i++) {
    console.log(numbers[i]);
}

numbers.forEach((number) => console.log(number));</code></pre>
        <ul>
            <li>number of/in numbers confusion</li>
            <li>Not being able to access both element and index</li>
            <li>Side effects</li>
        </ul>
        <pre><code class="js">let oddIndexSideEffect = [];
let index = 0;
for (number of numbers) {
    if (index % 2 === 1) {
        oddIndexSideEffect.push(Number(number));
    }
    index++;
}
console.log(oddIndexSideEffect);

const oddNumbers = numbers.filter((element, index) => index % 2 === 1);
console.log(oddNumbers);</code></pre>
        <ul>
            <li>Don't mutate the original list</li>
        </ul>
        <pre><code class="js">for (index in numbers) {
    numbers[index] = numbers[index] * 2;    
}

const doubledList = numbers.map(number => number * 2);

console.log(numbers);
console.log(doubledList);</code></pre>
        <p>
            A major thing to be aware of, is side effects. If you use a forEach loop to iterate over,
            and change values of a list, you may encounter side effects. This can happen if other
            parts of the code relies on the values of the original list. So for this reason, any
            change to a list should produce a new list instead of changing the existing one.<br>
        </p>
        <p>
            The different loop methods that exist in JavaScript are:
        </p>
        <ul>
            <li>forEach</li>
            <li>map</li>
            <li>filter</li>
            <li>find</li>
            <li>sort</li>
            <li>reduce</li>
        </ul>
        <p>
            Here is an example of how to make changes to a list, the correct way:
        </p>
        <pre><code class="js">const trolls = [
    { name: "anonymous", trollLevel: 8 },
    { name: "Hugo", trollLevel: 9001 },
    { name: "Mig", trollLevel: 69 }
];

const upgradedTrolls = trolls.map((troll) => {
    troll.trollLevel += 5;
    return troll;
});
console.log("upgradedTrolls:", upgradedTrolls);</code></pre>
        <p>
            Here is an example of how to filter a list, only getting the trolls which levels are an odd number:
        </p>
        <pre><code class="js">const oddTrolls = upgradedTrolls.filter(checkIfTrollLevelIsOdd);

function checkIfTrollLevelIsOdd(troll) {
    return troll.trollLevel % 2 === 1;
};
console.log("Odd trolls:", oddTrolls);</code></pre>
        <h3>Anatomy of an URL</h3>
        <p>
            The different segments of an URL (Uniform Resource Locator) breaks down such as the following,
            comparing a real URL and what it breaks down to:
        </p>
        <pre><code class="bash">https://www.google.com/seach?hl=en&q=testsearch
protocol://subdomain.domain.topleveldomain/endpoint?querystring</code></pre>
        <p>
            The querystring consists of queryparameters, each consisting of a key and a value and seperates with the '&'
            symbol.<br>
            Also, an endpoint can have a path variable, which usually refers to an id of a resource. For example
            '/search/1'.
        </p>
        <h3>Serving HTML in Express</h3>
        <p>
            To serve HTML in Express, you can make an endpoint utilizing sendFile, like this:
        </p>
        <pre><code class="js">app.get("/", (req, res) => {
    res.sendFile(__dirname + "/public/home.html");
});</code></pre>
        <br>
        <div class="text-center">
            <button class="btn btn-success" onclick="scrollToTop()"><strong>Back to top</strong></button>
        </div>
        <br>
        </p>
    </div>
</body>

</html>