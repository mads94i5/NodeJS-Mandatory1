<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="../img/node-js-logo.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../style/style.css" />
    <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/oswald-4">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.4.0/purify.min.js"></script>
    <script>
        function scrollToTop() {
            document.body.scrollTop = 0; /* For Safari */
            document.documentElement.scrollTop = 0; /* For Chrome, Firefox, IE, and Opera */
        }
    </script>
    <title>NodeJS Documentation</title>
</head>

<body>
    <header>
        <div>
            <h2 class="no-margin text-center"><strong>NodeJS Documentation</strong></h2>
        </div>
        <nav>
            <a href="/"><button class="btn nav-btn btn-success"><strong>Home</strong></button></a>
            <a href="/nodejs"><button class="btn nav-btn btn-success"><strong>NodeJS</strong></button></a>
            <div class="login-area">
                <a href="/admin"><button class="btn nav-btn btn-success"><strong>Admin</strong></button></a>
                <a href="/login"><button class="btn btn-success"><strong>Login</strong></button></a>
            </div>
        </nav>
    </header>
    <hr class="no-margin">
    <div class="container">
        <h1 class="text-center">Documentation | Page 5</h1><br>
        <p class="text-center">
        <div class="row btn-row">
            <div class="col-sm-4">
                <a href="/doc4"><button class="btn btn-primary"><strong>Page 4</strong></button></a>
            </div>
            <div class="col-sm-4 text-center">
                <a href="/nodejs"><button class="btn btn-danger"><strong>Back</strong></button></a>
            </div>
            <div class="col-sm-4 text-right">

            </div>
        </div>
        <h3>Exporting and importing in frontend</h3>
        <p>
            Exporting and importing in the frontend, requires that you use the type="module" attribute on the
            &lt;script&gt; HTML tag when importing the JavaScript file.<br>
            This allows you to split the code into seperate files or modules, making the code more
            maintainable and reusable.<br>
            To be able to import functions and variables, you need to use the 'export' keyword as such:
        </p>
        <pre><code class="js">// module.js
export function add(a, b) {
    return a + b;
}

export const pi = 3.14159;</code></pre>
        <p>
            And this is how you would import it into a HTML page:
        </p>
        <pre><code class="html">&lt;script type="module" src="./module.js">&lt;/script&gt;</code></pre>
        <h3>CommonJS vs. ES6 Modules in Node.js</h3>
        <p>
            These are two different approaches to modularizing backend code with Node.js.<br>
            The main differences are:
        </p>
        <h4>CommonJS</h4>
        <ul>
            <li>'require("./filename")' for importing</li>
            <li>'module.exports = { exportedFunction, exportedVariable }' for exporting</li>
            <li>Default in Node.js</li>
        </ul>
        <h4>ES6 Modules (type module)</h4>
        <ul>
            <li>'import { exportedFunction } from "./path/filename.js"' for importing</li>
            <li>Use keyword 'export' leading functions and variables to export</li>
            <li>Requires "type": "module" at the root of the package.json object file.</li>
        </ul>
        <p>
            It can be argued that ES6 modules is the better approach, as this will use the same method for
            importing and exporting in the backend as the frontend. This makes the code more reusable and
            streamlined.<br>

        </p>
        <h3>Serving static in Express</h3>
        <p>
            To serve static elements in Express, which is conventionally called "public", you need to use following line
            in your "app.js":
        </p>
        <pre><code class="js">app.use(express.static("public"));</code></pre>
        <p>
            This will allow all files in the "public" folder to be accessed by a web browser.<br>
            Meaning this is necessary if you want to serve .js, .json, .css or other files to the web browser.<br>
            It is important to not have any files in "public" that should not be publicly available.<br>
        </p>
        <h3>XSS</h3>
        <p>
            Cross Site Scripting is a vulnerability that allows malicious actors to inject scripts into an
            application.<br>
            For example, this can happen when you refer to a HTML element and take third party input for 'innerHTML'
            without sanitizing it:<br>
        </p>
        <pre><code class="js">const resultDiv = document.getElementById("result-div");
resultDiv.innerHTML = fetchGetJson(`&lt;third party api URL&gt;`);</code></pre>
        <br>
        <div class="text-center">
            <button class="btn btn-success" onclick="scrollToTop()"><strong>Back to top</strong></button>
        </div>
        <br>
        </p>
    </div>
</body>

</html>