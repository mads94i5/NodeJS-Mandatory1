<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="../img/node-js-logo.png">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="../style/style.css" />
    <link rel="stylesheet" href="https://fonts.cdnfonts.com/css/oswald-4">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/default.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script>hljs.highlightAll();</script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.4.0/purify.min.js"></script>
    <script>
        function scrollToTop() {
            document.body.scrollTop = 0; /* For Safari */
            document.documentElement.scrollTop = 0; /* For Chrome, Firefox, IE, and Opera */
        }
    </script>
    <title>NodeJS Documentation</title>
</head>

<body>
    <header>
        <div>
            <h2 class="no-margin text-center"><strong>NodeJS Documentation</strong></h2>
        </div>
        <nav>
            <a href="/"><button class="btn nav-btn btn-success"><strong>Home</strong></button></a>
            <a href="/nodejs"><button class="btn nav-btn btn-success"><strong>NodeJS</strong></button></a>
            <div class="login-area">
                <a href="/admin"><button class="btn nav-btn btn-success"><strong>Admin</strong></button></a>
                <a href="/login"><button class="btn btn-success"><strong>Login</strong></button></a>
            </div>
        </nav>
    </header>
    <hr class="no-margin">
    <div class="container">
        <h1 class="text-center">Documentation | Page 2</h1><br>
        <p class="text-center">
        <div class="row btn-row">
            <div class="col-sm-4">
                <a href="/doc/1"><button class="btn btn-primary"><strong>Page 1</strong></button></a>
            </div>
            <div class="col-sm-4 text-center">
                <a href="/nodejs"><button class="btn btn-danger"><strong>Back</strong></button></a>
            </div>
            <div class="col-sm-4 text-right">
                <a href="/doc/3"><button class="btn btn-primary"><strong>Page 3</strong></button></a>
            </div>
        </div>
        <h3>Strict Mode / ESLint</h3>
        <h4>Strict Mode</h4>
        <p>
            Strict Mode was introduced in ES5. It's a set of rules that helps developers write
            more robust and error-free JavaScript code by catching common mistakes and preventing
            the use of potentially problematic features.<br>
            To enable Strict Mode, simply write this at the top of a JavaScript file:<br>
        </p>
        <pre><code class="js">"use strict";</code></pre>
        <h4>ESLint</h4>
        <p>
            ESLint is a widely used open-source static code analysis tool for identifying and
            fixing problems in JavaScript code. It's highly configurable and can enforce a wide
            range of coding standards, including Clean Code principles and the use of Strict Mode.<br>
        </p>
        <h3>Functions</h3>
        <p>
            Functions can be assigned to variables, passed as arguments and returned as values.<br>
            There are several ways of writing functions in JavaScript.
            Functions are hoisted, meaning they can be called before they are declared in the code.<br>
            Example:<br>
        </p>
        <pre><code class="js">console.log(getRandomInt(5, 10));

function getRandomInt(min, max) {
    return Math.floor(Math.random() * (max + 1 - min) + min)
}</code></pre>
        <p>
            Writing the name of the function will return a reference to the function.<br>
            Example:<br>
        </p>
        <pre><code class="js">console.log(getRandomInt);</code></pre>
        <p>
            Anonymous functions can also be created.<br>
            Example:<br>
        </p>
        <pre><code class="js">const getRandomIntAnonymousFunction = function(min, max) {
    return Math.floor(Math.random() * (max + 1 - min) + min)
}</code></pre>
        <p>
            As well as arrow functions. Arrow functions can be written as one-liners with implicit return, otherwise
            return has to be explicit.<br>
            Example:<br>
        </p>
        <pre><code class="js">const getRandomIntArrowFunctionNoReturn = (min, max) => 
    Math.floor(Math.random() * (max + 1 - min) + min);
    
const getRandomIntArrowFunction = (min, max) => {
    return Math.floor(Math.random() * (max + 1 - min) + min)
}</code></pre>
        <p>
            JavaScript also supports callback functions. A callback function is any reference to execute code that is
            passed an argument in another piece of code.<br>
            Example:<br>
        </p>
        <pre><code class="js">function genericActionperformer(genericAction, name) {
    // do things..
    return genericAction(name);
}

// jump is a callback arrow function
const jump = (name) => `${name} is jumping`;

// run is a callback anonymous function
const run = function (name) { return `${name} is running`; }

console.log("Callback:")
console.log(genericActionperformer(jump, "Mads"));
console.log(genericActionperformer(run, "Mads"));
// inline function
console.log(genericActionperformer((name) => `${name} is sleeping`, "Mads"));</code></pre>
        <h3>package.json</h3>
        <p>
            The package.json file is the starting point to setting up an application with the Express framework.
            It contains the configuration and dependencies of the project. The dependencies are the most vital.<br>
            The file has to be located in the root project folder.<br>
            Here is an example of a simple package.json file:
        </p>
        <pre><code class="json">{
    "name": "pokemon",
    "version": "0.0.1",
    "description": "Pokemon website",
    "type":"module",
    "main": "app.js",
    "scripts": {
        "test": "echo \"Error: no test specified\" && exit 1"
    },
    "keywords": [
        "pokemon",
        "pokemon",
        "battle",
        "website",
        "node",
        "express"
    ],
    "author": "mads94i5",
    "license": "ISC",
    "dependencies": {
        "express": "^4.18.2"
    },
    "devDependencies": {
        "eslint": "^8.49.0"
    }
}</code></pre>
        <h3>Express</h3>
        <p>
            When you have created a 'package.json' file and added "express" to the dependencies, you
            can type the following in the terminal to install the dependencies listed in package.json:
        </p>
        <pre><code class="bash">npm install</code></pre>
        <p>
            Alternatively, you can create a default 'package.json' and install Express like this:
        </p>
        <pre><code class="bash">npm i express -y</code></pre>
        <p>
            After Express is finished installing, you create an 'app.js' file in the root project folder.<br>
            Here is an example of an 'app.js' file to setup a basic HTTP server:
        </p>
        <pre><code class="js">const express = require("express");
const app = express();

const PORT = 8080;
app.listen(PORT, (error) => {
    if (error) {
        console.log("Server failed to start:", error);
        return;
    }
    console.log("Server started at port:", PORT);
});</code></pre>
        <p>
            First we import Express using the "require" function. The "express" variable will contain the
            functionality provided by Express, which allows you to create and configure a web server.<br>
            The second line creates an instance of an Express application. The "app" variable will be used
            to configure routes, middleware, and other aspects of the web server.<br>
            Then we define the port to be used by the web server and tell the application to listen to the
            specified port. The "listen" function starts the server, provided an error doesn't happen.<br>
        </p>
        <h3>Sending data with GET requests</h3>
        <p>
            Once an Express web server is set up, it is very simple to set up an endpoint
            and send data to a client. For APIs it's important to send data in json format to make
            the API compatible with any platform.<br>
            Endpoints should be inserted after the creation of the Express application and before the
            app.listen function call, to ensure that they are properly registered and available
            for incoming requests.<br>
            This endpoint '/helloworld' returns a json object containing some data:
        </p>
        <pre><code class="js">const otherData = 123;

app.get("/helloworld", (req, res) => {
    res.send({ data: "Hello, world!", otherData: otherData });
});</code></pre>
        <br>
        <div class="text-center">
            <button class="btn btn-success" onclick="scrollToTop()"><strong>Back to top</strong></button>
        </div>
        <br>
        </p>
    </div>
</body>

</html>